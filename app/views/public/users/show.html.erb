<div class="container">
  <div class="row justify-content-center">
    <div class="col-md-6 col-lg-5">

      <!-- プロフィール -->
      <div class="card shadow-sm p-3 mb-4 text-center">
        <%= image_tag @user.get_profile_image(80,80),
              class: "rounded-circle mb-3" %>

        <h4 class="mb-3"><%= @user.name %></h4>

        <% if @user == current_user %>
          <div class="d-flex justify-content-center">
            <%= link_to "プロフィール編集",
                  edit_user_path(@user),
                  class: "btn btn-outline-primary mr-2" %>

            <%= link_to "退会",
                  user_path(current_user),
                  method: :delete,
                  data: { confirm: "本当に退会しますか？" },
                  class: "btn btn-outline-danger" %>
          </div>
        <% end %>
      </div>

      <!-- 投稿一覧 -->
      <h4 class="mb-3">投稿一覧</h4>

      <% @posts.each do |post| %>
        <div class="card mb-3">
          <div class="card-body">

            <h5 class="card-title">
              <%= link_to post.review_title, post_path(post),
                    class: "text-dark font-weight-bold" %>
            </h5>

            <p class="card-text">
              <strong>ゲームタイトル：</strong>
              <%= post.game_title %>
            </p>

            <p class="card-text">
              <%= truncate(post.body, length: 100) %>
            </p>

            <div class="d-flex align-items-center">
              <%= image_tag post.user.get_profile_image(40,40),
                    class: "rounded-circle mr-2" %>
              <span><%= post.user.name %></span>
            </div>

          </div>
        </div>
      <% end %>

    </div>
  </div>
</div>